<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Checkout | Vastra Tara</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<div class="container mt-5" style="max-width:700px;">

    <div class="card shadow-sm">
        <div class="card-body">

            <h3 class="text-center mb-3">Checkout</h3>
            <p class="text-center text-muted mb-4">
                Payment Method: <b>Cash on Delivery</b>
            </p>

            <!-- ðŸ”¹ PRODUCT SUMMARY -->
            {% if products %}
                {% for p in products %}
                <div class="card mb-3">
                    <div class="card-body d-flex align-items-center">

                        <!-- IMAGE -->
                        {% if p.image %}
                            <img
                                src="{{ url_for('static', filename='images/' + p.image) }}"
                                width="80"
                                height="80"
                                class="me-3 rounded"
                                style="object-fit:cover;"
                            >
                        {% else %}
                            <img
                                src="{{ url_for('static', filename='images/no-image.png') }}"
                                width="80"
                                height="80"
                                class="me-3 rounded"
                                style="object-fit:cover;"
                            >
                        {% endif %}

                        <!-- DETAILS -->
                        <div class="flex-grow-1">
                            <h6 class="mb-1">{{ p.name }}</h6>
                            <p class="text-muted mb-1">
                                Colour: <b>{{ p.colour }}</b>
                            </p>
                        </div>

                        <!-- PRICE -->
                        <div class="text-end">
                            <p class="fw-bold mb-0">â‚¹ {{ p.price }}</p>
                        </div>

                    </div>
                </div>
                {% endfor %}
            {% else %}
                <p class="text-center text-muted">No items selected</p>
            {% endif %}

            <h5 class="text-end mb-4">
                Total: <span class="fw-bold">â‚¹ {{ total }}</span>
            </h5>

            <!-- ðŸ”¹ CHECKOUT FORM -->
            <form method="post">

                <input
                    type="text"
                    class="form-control mb-3"
                    name="name"
                    placeholder="Full Name"
                    required
                >

                <input
                    type="tel"
                    class="form-control mb-3"
                    name="phone"
                    placeholder="Mobile Number"
                    pattern="[0-9]{10}"
                    title="Enter 10-digit mobile number"
                    required
                >

                <textarea
                    class="form-control mb-3"
                    name="address"
                    placeholder="Full Delivery Address"
                    rows="3"
                    required
                ></textarea>

                <div class="alert alert-info small">
                    After clicking <b>Place Order</b>, WhatsApp will open.
                    Please tap <b>Send</b> to confirm your order.
                </div>

                <button type="submit" class="btn btn-dark w-100">
                    Place Order
                </button>

            </form>

        </div>
    </div>

</div>

</body>
</html>
